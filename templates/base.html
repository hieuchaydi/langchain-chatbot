<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Trá»£ lÃ½ áº£o Hidemium{% endblock %}</title>

    <!-- cache bust -->
    <link rel="stylesheet" href="/static/style.css?v=2025">

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>

<!-- ================= NAVBAR (DESKTOP / TABLET) ================= -->
<nav class="navbar">
    <div class="nav-left">
        <a href="/" class="nav-logo">Hidemium</a>
    </div>

    <div class="nav-links">
        <a href="/" class="nav-btn">Home</a>
        <a href="/chat" class="nav-btn">Chat</a>
        <a href="/data-loader" class="nav-btn">Upload</a>
        <a href="/vector-manager" class="nav-btn">Vector</a>
        <a href="/config" class="nav-btn">Config</a>
        <a href="/history" class="nav-btn history">History</a>

        <button class="nav-btn theme-btn theme-toggle" title="Äá»•i giao diá»‡n">ğŸŒ™</button>

    </div>
</nav>

<!-- ================= PAGE CONTENT ================= -->
<main>
    {% block content %}{% endblock %}
</main>

<!-- ================= MOBILE BOTTOM NAV ================= -->
<div class="mobile-bottom-nav">
    <a href="/" class="{% if request.path == '/' %}active{% endif %}">
        <span>ğŸ </span>Home
    </a>
    <a href="/chat" class="{% if '/chat' in request.path %}active{% endif %}">
        <span>ğŸ’¬</span>Chat
    </a>
    <a href="/data-loader" class="{% if '/data-loader' in request.path %}active{% endif %}">
        <span>ğŸ“„</span>Upload
    </a>
    <a href="/history" class="{% if '/history' in request.path %}active{% endif %}">
        <span>ğŸ“œ</span>History
    </a>
    <button class="nav-btn theme-btn theme-toggle" title="Äá»•i giao diá»‡n">ğŸŒ™</button>

</div>

<script>
const body = document.body;
const themeToggles = document.querySelectorAll(".theme-toggle");

// Load theme Ä‘Ã£ lÆ°u
const savedTheme = localStorage.getItem("theme");
if (savedTheme === "light") {
    body.classList.add("light");
    themeToggles.forEach(btn => btn.textContent = "â˜€ï¸");
}

// Gáº¯n sá»± kiá»‡n cho Táº¤T Cáº¢ nÃºt toggle
themeToggles.forEach(button => {
    button.addEventListener("click", () => {
        body.classList.toggle("light");
        const isLight = body.classList.contains("light");

        themeToggles.forEach(btn => {
            btn.textContent = isLight ? "â˜€ï¸" : "ğŸŒ™";
        });

        localStorage.setItem("theme", isLight ? "light" : "dark");
    });
});
</script>

</body>
</html>
